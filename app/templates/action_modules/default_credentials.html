{% extends 'layout/base.html' %}
{% from 'layout/_macrosses.html' import bootstrap_table_icons %}

{% block page_content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5>{{ _("List of all registered default credentials") }}</h5>
                </div>
                <div class="card-body">
                    <table class="table" id="default-credentials-table" data-search="true" data-show-columns="true" data-show-toggle="true" data-show-export="true" data-show-multi-sort="true"
                                        data-buttons-class="primary" data-pagination="true" data-side-pagination="server"
                                        data-page-list="[10, 25, 50, 100, 500, All]"
                                        data-cookie="true" data-cookie-id-table="DefaultCredentialsIndex" data-cookie-storage="localStorage">
                        <thead>
                            <tr>
                                <th data-field="id" data-sortable="true" data-align="center">{{ models.DefaultCredential.id.info["label"] }}</th>
                                <th data-field="title" data-sortable="true" data-align="center" data-filter-control="input">{{ models.DefaultCredential.title.info['label'] }}</th>
                                <th data-field="login" data-sortable="true" data-align="center" data-filter-control="input">{{ models.DefaultCredential.login.info['label'] }}</th>
                                <th data-field="password" data-sortable="true" data-align="center" data-filter-control="input">{{ models.DefaultCredential.password.info['label'] }}</th>
                                <th data-field="comment" data-sortable="true" data-align="center" data-filter-control="input">{{ models.DefaultCredential.comment.info['label'] }}</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
{{ super() }}
<script nonce="{{ csp_nonce() }}">
    $('#default-credentials-table').bootstrapTable({
        filterControl: true,
        disableUnusedSelectOptions: true,
        url: "{{ url_for('action_modules.default_credentials_index_data', project_id=project.id) }}",
        icons: JSON.parse("{{ bootstrap_table_icons().strip() }}"),
    });
</script>
{% endblock %}